"use strict";(self.webpackChunkmy_swap_platform=self.webpackChunkmy_swap_platform||[]).push([[774],{529:(t,e,n)=>{n.d(e,{r:()=>r});const r="6.13.2"},31:(t,e,n)=>{n.d(e,{b:()=>h});var r=n(640),s=n(212),a=n(339);const i=BigInt(0),o=BigInt(36);function c(t){const e=(t=t.toLowerCase()).substring(2).split(""),n=new Uint8Array(40);for(let t=0;t<40;t++)n[t]=e[t].charCodeAt(0);const a=(0,s.q5)((0,r.S)(n));for(let t=0;t<40;t+=2)a[t>>1]>>4>=8&&(e[t]=e[t].toUpperCase()),(15&a[t>>1])>=8&&(e[t+1]=e[t+1].toUpperCase());return"0x"+e.join("")}const u={};for(let t=0;t<10;t++)u[String(t)]=String(t);for(let t=0;t<26;t++)u[String.fromCharCode(65+t)]=String(10+t);const l=15;const f=function(){const t={};for(let e=0;e<36;e++)t["0123456789abcdefghijklmnopqrstuvwxyz"[e]]=BigInt(e);return t}();function h(t){if((0,a.MR)("string"==typeof t,"invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/)){t.startsWith("0x")||(t="0x"+t);const e=c(t);return(0,a.MR)(!t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||e===t,"bad address checksum","address",t),e}if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){(0,a.MR)(t.substring(2,4)===function(t){let e=(t=(t=t.toUpperCase()).substring(4)+t.substring(0,2)+"00").split("").map((t=>u[t])).join("");for(;e.length>=l;){let t=e.substring(0,l);e=parseInt(t,10)%97+e.substring(t.length)}let n=String(98-parseInt(e,10)%97);for(;n.length<2;)n="0"+n;return n}(t),"bad icap checksum","address",t);let e=function(t){t=t.toLowerCase();let e=i;for(let n=0;n<t.length;n++)e=e*o+f[t[n]];return e}(t.substring(4)).toString(16);for(;e.length<40;)e="0"+e;return c("0x"+e)}(0,a.MR)(!1,"invalid address","address",t)}},494:(t,e,n)=>{n.d(e,{NZ:()=>Pe});var r=n(339),s=n(81);const a={};function i(t,e){let n=!1;return e<0&&(n=!0,e*=-1),new u(a,`${n?"":"u"}int${e}`,t,{signed:n,width:e})}function o(t,e){return new u(a,`bytes${e||""}`,t,{size:e})}const c=Symbol.for("_ethers_typed");class u{type;value;#t;_typedSymbol;constructor(t,e,n,i){null==i&&(i=null),(0,r.gk)(a,t,"Typed"),(0,s.n)(this,{_typedSymbol:c,type:e,value:n}),this.#t=i,this.format()}format(){if("array"===this.type)throw new Error("");if("dynamicArray"===this.type)throw new Error("");return"tuple"===this.type?`tuple(${this.value.map((t=>t.format())).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return"string"===this.type}get tupleName(){if("tuple"!==this.type)throw TypeError("not a tuple");return this.#t}get arrayLength(){if("array"!==this.type)throw TypeError("not an array");return!0===this.#t?-1:!1===this.#t?this.value.length:null}static from(t,e){return new u(a,t,e)}static uint8(t){return i(t,8)}static uint16(t){return i(t,16)}static uint24(t){return i(t,24)}static uint32(t){return i(t,32)}static uint40(t){return i(t,40)}static uint48(t){return i(t,48)}static uint56(t){return i(t,56)}static uint64(t){return i(t,64)}static uint72(t){return i(t,72)}static uint80(t){return i(t,80)}static uint88(t){return i(t,88)}static uint96(t){return i(t,96)}static uint104(t){return i(t,104)}static uint112(t){return i(t,112)}static uint120(t){return i(t,120)}static uint128(t){return i(t,128)}static uint136(t){return i(t,136)}static uint144(t){return i(t,144)}static uint152(t){return i(t,152)}static uint160(t){return i(t,160)}static uint168(t){return i(t,168)}static uint176(t){return i(t,176)}static uint184(t){return i(t,184)}static uint192(t){return i(t,192)}static uint200(t){return i(t,200)}static uint208(t){return i(t,208)}static uint216(t){return i(t,216)}static uint224(t){return i(t,224)}static uint232(t){return i(t,232)}static uint240(t){return i(t,240)}static uint248(t){return i(t,248)}static uint256(t){return i(t,256)}static uint(t){return i(t,256)}static int8(t){return i(t,-8)}static int16(t){return i(t,-16)}static int24(t){return i(t,-24)}static int32(t){return i(t,-32)}static int40(t){return i(t,-40)}static int48(t){return i(t,-48)}static int56(t){return i(t,-56)}static int64(t){return i(t,-64)}static int72(t){return i(t,-72)}static int80(t){return i(t,-80)}static int88(t){return i(t,-88)}static int96(t){return i(t,-96)}static int104(t){return i(t,-104)}static int112(t){return i(t,-112)}static int120(t){return i(t,-120)}static int128(t){return i(t,-128)}static int136(t){return i(t,-136)}static int144(t){return i(t,-144)}static int152(t){return i(t,-152)}static int160(t){return i(t,-160)}static int168(t){return i(t,-168)}static int176(t){return i(t,-176)}static int184(t){return i(t,-184)}static int192(t){return i(t,-192)}static int200(t){return i(t,-200)}static int208(t){return i(t,-208)}static int216(t){return i(t,-216)}static int224(t){return i(t,-224)}static int232(t){return i(t,-232)}static int240(t){return i(t,-240)}static int248(t){return i(t,-248)}static int256(t){return i(t,-256)}static int(t){return i(t,-256)}static bytes1(t){return o(t,1)}static bytes2(t){return o(t,2)}static bytes3(t){return o(t,3)}static bytes4(t){return o(t,4)}static bytes5(t){return o(t,5)}static bytes6(t){return o(t,6)}static bytes7(t){return o(t,7)}static bytes8(t){return o(t,8)}static bytes9(t){return o(t,9)}static bytes10(t){return o(t,10)}static bytes11(t){return o(t,11)}static bytes12(t){return o(t,12)}static bytes13(t){return o(t,13)}static bytes14(t){return o(t,14)}static bytes15(t){return o(t,15)}static bytes16(t){return o(t,16)}static bytes17(t){return o(t,17)}static bytes18(t){return o(t,18)}static bytes19(t){return o(t,19)}static bytes20(t){return o(t,20)}static bytes21(t){return o(t,21)}static bytes22(t){return o(t,22)}static bytes23(t){return o(t,23)}static bytes24(t){return o(t,24)}static bytes25(t){return o(t,25)}static bytes26(t){return o(t,26)}static bytes27(t){return o(t,27)}static bytes28(t){return o(t,28)}static bytes29(t){return o(t,29)}static bytes30(t){return o(t,30)}static bytes31(t){return o(t,31)}static bytes32(t){return o(t,32)}static address(t){return new u(a,"address",t)}static bool(t){return new u(a,"bool",!!t)}static bytes(t){return new u(a,"bytes",t)}static string(t){return new u(a,"string",t)}static array(t,e){throw new Error("not implemented yet")}static tuple(t,e){throw new Error("not implemented yet")}static overrides(t){return new u(a,"overrides",Object.assign({},t))}static isTyped(t){return t&&"object"==typeof t&&"_typedSymbol"in t&&t._typedSymbol===c}static dereference(t,e){if(u.isTyped(t)){if(t.type!==e)throw new Error(`invalid type: expecetd ${e}, got ${t.type}`);return t.value}return t}}var l=n(640),f=n(303);function h(t){return(0,l.S)((0,f.YW)(t))}var p=n(212),d=n(33);const g=32,y=new Uint8Array(g),m=["then"],b={},w=new WeakMap;function v(t){return w.get(t)}function E(t,e){w.set(t,e)}function R(t,e){const n=new Error(`deferred error during ABI decoding triggered accessing ${t}`);throw n.error=e,n}function x(t,e,n){return t.indexOf(null)>=0?e.map(((t,e)=>t instanceof O?x(v(t),t,n):t)):t.reduce(((t,r,s)=>{let a=e.getValue(r);return r in t||(n&&a instanceof O&&(a=x(v(a),a,n)),t[r]=a),t}),{})}class O extends Array{#e;constructor(...t){const e=t[0];let n=t[1],r=(t[2]||[]).slice(),s=!0;e!==b&&(n=t,r=[],s=!1),super(n.length),n.forEach(((t,e)=>{this[e]=t}));const a=r.reduce(((t,e)=>("string"==typeof e&&t.set(e,(t.get(e)||0)+1),t)),new Map);if(E(this,Object.freeze(n.map(((t,e)=>{const n=r[e];return null!=n&&1===a.get(n)?n:null})))),this.#e=[],null==this.#e&&this.#e,!s)return;Object.freeze(this);const i=new Proxy(this,{get:(t,e,n)=>{if("string"==typeof e){if(e.match(/^[0-9]+$/)){const n=(0,d.WZ)(e,"%index");if(n<0||n>=this.length)throw new RangeError("out of result range");const r=t[n];return r instanceof Error&&R(`index ${n}`,r),r}if(m.indexOf(e)>=0)return Reflect.get(t,e,n);const r=t[e];if(r instanceof Function)return function(...e){return r.apply(this===n?t:this,e)};if(!(e in t))return t.getValue.apply(this===n?t:this,[e])}return Reflect.get(t,e,n)}});return E(i,v(this)),i}toArray(t){const e=[];return this.forEach(((n,r)=>{n instanceof Error&&R(`index ${r}`,n),t&&n instanceof O&&(n=n.toArray(t)),e.push(n)})),e}toObject(t){const e=v(this);return e.reduce(((n,s,a)=>((0,r.vA)(null!=s,`value at index ${a} unnamed`,"UNSUPPORTED_OPERATION",{operation:"toObject()"}),x(e,this,t))),{})}slice(t,e){null==t&&(t=0),t<0&&(t+=this.length)<0&&(t=0),null==e&&(e=this.length),e<0&&(e+=this.length)<0&&(e=0),e>this.length&&(e=this.length);const n=v(this),r=[],s=[];for(let a=t;a<e;a++)r.push(this[a]),s.push(n[a]);return new O(b,r,s)}filter(t,e){const n=v(this),r=[],s=[];for(let a=0;a<this.length;a++){const i=this[a];i instanceof Error&&R(`index ${a}`,i),t.call(e,i,a,this)&&(r.push(i),s.push(n[a]))}return new O(b,r,s)}map(t,e){const n=[];for(let r=0;r<this.length;r++){const s=this[r];s instanceof Error&&R(`index ${r}`,s),n.push(t.call(e,s,r,this))}return n}getValue(t){const e=v(this).indexOf(t);if(-1===e)return;const n=this[e];return n instanceof Error&&R(`property ${JSON.stringify(t)}`,n.error),n}static fromItems(t,e){return new O(b,t,e)}}function A(t){let e=(0,d.c4)(t);return(0,r.vA)(e.length<=g,"value out-of-bounds","BUFFER_OVERRUN",{buffer:e,length:g,offset:e.length}),e.length!==g&&(e=(0,p.Lm)((0,p.xW)([y.slice(e.length%g),e]))),e}class k{name;type;localName;dynamic;constructor(t,e,n,r){(0,s.n)(this,{name:t,type:e,localName:n,dynamic:r},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(t,e){(0,r.MR)(!1,t,this.localName,e)}}class N{#n;#r;constructor(){this.#n=[],this.#r=0}get data(){return(0,p.xW)(this.#n)}get length(){return this.#r}#s(t){return this.#n.push(t),this.#r+=t.length,t.length}appendWriter(t){return this.#s((0,p.Lm)(t.data))}writeBytes(t){let e=(0,p.Lm)(t);const n=e.length%g;return n&&(e=(0,p.Lm)((0,p.xW)([e,y.slice(n)]))),this.#s(e)}writeValue(t){return this.#s(A(t))}writeUpdatableValue(){const t=this.#n.length;return this.#n.push(y),this.#r+=g,e=>{this.#n[t]=A(e)}}}class T{allowLoose;#n;#a;#i;#o;#c;constructor(t,e,n){(0,s.n)(this,{allowLoose:!!e}),this.#n=(0,p.Lm)(t),this.#i=0,this.#o=null,this.#c=null!=n?n:1024,this.#a=0}get data(){return(0,p.c$)(this.#n)}get dataLength(){return this.#n.length}get consumed(){return this.#a}get bytes(){return new Uint8Array(this.#n)}#u(t){if(this.#o)return this.#o.#u(t);this.#i+=t,(0,r.vA)(this.#c<1||this.#i<=this.#c*this.dataLength,`compressed ABI data exceeds inflation ratio of ${this.#c} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:(0,p.Lm)(this.#n),offset:this.#a,length:t,info:{bytesRead:this.#i,dataLength:this.dataLength}})}#l(t,e,n){let s=Math.ceil(e/g)*g;return this.#a+s>this.#n.length&&(this.allowLoose&&n&&this.#a+e<=this.#n.length?s=e:(0,r.vA)(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:(0,p.Lm)(this.#n),length:this.#n.length,offset:this.#a+s})),this.#n.slice(this.#a,this.#a+s)}subReader(t){const e=new T(this.#n.slice(this.#a+t),this.allowLoose,this.#c);return e.#o=this,e}readBytes(t,e){let n=this.#l(0,t,!!e);return this.#u(t),this.#a+=n.length,n.slice(0,t)}readValue(){return(0,d.Dg)(this.readBytes(g))}readIndex(){return(0,d.Ro)(this.readBytes(g))}}var P=n(31);class _ extends k{constructor(t){super("address","address",t,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(t,e){let n=u.dereference(e,"string");try{n=(0,P.b)(n)}catch(t){return this._throwError(t.message,e)}return t.writeValue(n)}decode(t){return(0,P.b)((0,d.up)(t.readValue(),20))}}class S extends k{coder;constructor(t){super(t.name,t.type,"_",t.dynamic),this.coder=t}defaultValue(){return this.coder.defaultValue()}encode(t,e){return this.coder.encode(t,e)}decode(t){return this.coder.decode(t)}}function M(t,e,n){let s=[];if(Array.isArray(n))s=n;else if(n&&"object"==typeof n){let t={};s=e.map((e=>{const s=e.localName;return(0,r.vA)(s,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:e},value:n}),(0,r.vA)(!t[s],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:e},value:n}),t[s]=!0,n[s]}))}else(0,r.MR)(!1,"invalid tuple value","tuple",n);(0,r.MR)(e.length===s.length,"types/value length mismatch","tuple",n);let a=new N,i=new N,o=[];e.forEach(((t,e)=>{let n=s[e];if(t.dynamic){let e=i.length;t.encode(i,n);let r=a.writeUpdatableValue();o.push((t=>{r(t+e)}))}else t.encode(a,n)})),o.forEach((t=>{t(a.length)}));let c=t.appendWriter(a);return c+=t.appendWriter(i),c}function C(t,e){let n=[],s=[],a=t.subReader(0);return e.forEach((e=>{let i=null;if(e.dynamic){let n=t.readIndex(),s=a.subReader(n);try{i=e.decode(s)}catch(t){if((0,r.bJ)(t,"BUFFER_OVERRUN"))throw t;i=t,i.baseType=e.name,i.name=e.localName,i.type=e.type}}else try{i=e.decode(t)}catch(t){if((0,r.bJ)(t,"BUFFER_OVERRUN"))throw t;i=t,i.baseType=e.name,i.name=e.localName,i.type=e.type}if(null==i)throw new Error("investigate");n.push(i),s.push(e.localName||null)})),O.fromItems(n,s)}class I extends k{coder;length;constructor(t,e,n){super("array",t.type+"["+(e>=0?e:"")+"]",n,-1===e||t.dynamic),(0,s.n)(this,{coder:t,length:e})}defaultValue(){const t=this.coder.defaultValue(),e=[];for(let n=0;n<this.length;n++)e.push(t);return e}encode(t,e){const n=u.dereference(e,"array");Array.isArray(n)||this._throwError("expected array value",n);let s=this.length;-1===s&&(s=n.length,t.writeValue(n.length)),(0,r.dd)(n.length,s,"coder array"+(this.localName?" "+this.localName:""));let a=[];for(let t=0;t<n.length;t++)a.push(this.coder);return M(t,a,n)}decode(t){let e=this.length;-1===e&&(e=t.readIndex(),(0,r.vA)(e*g<=t.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:t.bytes,offset:e*g,length:t.dataLength}));let n=[];for(let t=0;t<e;t++)n.push(new S(this.coder));return C(t,n)}}class j extends k{constructor(t){super("bool","bool",t,!1)}defaultValue(){return!1}encode(t,e){const n=u.dereference(e,"bool");return t.writeValue(n?1:0)}decode(t){return!!t.readValue()}}class $ extends k{constructor(t,e){super(t,t,e,!0)}defaultValue(){return"0x"}encode(t,e){e=(0,p.Lm)(e);let n=t.writeValue(e.length);return n+=t.writeBytes(e),n}decode(t){return t.readBytes(t.readIndex(),!0)}}class F extends ${constructor(t){super("bytes",t)}decode(t){return(0,p.c$)(super.decode(t))}}class L extends k{size;constructor(t,e){let n="bytes"+String(t);super(n,n,e,!1),(0,s.n)(this,{size:t},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+2*this.size)}encode(t,e){let n=(0,p.Lm)(u.dereference(e,this.type));return n.length!==this.size&&this._throwError("incorrect data length",e),t.writeBytes(n)}decode(t){return(0,p.c$)(t.readBytes(this.size))}}const U=new Uint8Array([]);class D extends k{constructor(t){super("null","",t,!1)}defaultValue(){return null}encode(t,e){return null!=e&&this._throwError("not null",e),t.writeBytes(U)}decode(t){return t.readBytes(0),null}}const B=BigInt(0),V=BigInt(1),z=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class J extends k{size;signed;constructor(t,e,n){const r=(e?"int":"uint")+8*t;super(r,r,n,!1),(0,s.n)(this,{size:t,signed:e},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(t,e){let n=(0,d.Ab)(u.dereference(e,this.type)),r=(0,d.dK)(z,256);if(this.signed){let t=(0,d.dK)(r,8*this.size-1);(n>t||n<-(t+V))&&this._throwError("value out-of-bounds",e),n=(0,d.JJ)(n,256)}else(n<B||n>(0,d.dK)(r,8*this.size))&&this._throwError("value out-of-bounds",e);return t.writeValue(n)}decode(t){let e=(0,d.dK)(t.readValue(),8*this.size);return this.signed&&(e=(0,d.ST)(e,8*this.size)),e}}class G extends ${constructor(t){super("string",t)}defaultValue(){return""}encode(t,e){return super.encode(t,(0,f.YW)(u.dereference(e,"string")))}decode(t){return(0,f._v)(super.decode(t))}}class W extends k{coders;constructor(t,e){let n=!1;const r=[];t.forEach((t=>{t.dynamic&&(n=!0),r.push(t.type)})),super("tuple","tuple("+r.join(",")+")",e,n),(0,s.n)(this,{coders:Object.freeze(t.slice())})}defaultValue(){const t=[];this.coders.forEach((e=>{t.push(e.defaultValue())}));const e=this.coders.reduce(((t,e)=>{const n=e.localName;return n&&(t[n]||(t[n]=0),t[n]++),t}),{});return this.coders.forEach(((n,r)=>{let s=n.localName;s&&1===e[s]&&("length"===s&&(s="_length"),null==t[s]&&(t[s]=t[r]))})),Object.freeze(t)}encode(t,e){const n=u.dereference(e,"tuple");return M(t,this.coders,n)}decode(t){return C(t,this.coders)}}function K(t){const e=new Set;return t.forEach((t=>e.add(t))),Object.freeze(e)}const Z=K("external public payable override".split(" ")),q="constant external internal payable private public pure view override",Y=K(q.split(" ")),H="constructor error event fallback function receive struct",X=K(H.split(" ")),Q="calldata memory storage payable indexed",tt=K(Q.split(" ")),et=K([H,Q,"tuple returns",q].join(" ").split(" ")),nt={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},rt=new RegExp("^(\\s*)"),st=new RegExp("^([0-9]+)"),at=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),it=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),ot=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");class ct{#a;#f;get offset(){return this.#a}get length(){return this.#f.length-this.#a}constructor(t){this.#a=0,this.#f=t.slice()}clone(){return new ct(this.#f)}reset(){this.#a=0}#h(t=0,e=0){return new ct(this.#f.slice(t,e).map((e=>Object.freeze(Object.assign({},e,{match:e.match-t,linkBack:e.linkBack-t,linkNext:e.linkNext-t})))))}popKeyword(t){const e=this.peek();if("KEYWORD"!==e.type||!t.has(e.text))throw new Error(`expected keyword ${e.text}`);return this.pop().text}popType(t){if(this.peek().type!==t){const e=this.peek();throw new Error(`expected ${t}; got ${e.type} ${JSON.stringify(e.text)}`)}return this.pop().text}popParen(){const t=this.peek();if("OPEN_PAREN"!==t.type)throw new Error("bad start");const e=this.#h(this.#a+1,t.match+1);return this.#a=t.match+1,e}popParams(){const t=this.peek();if("OPEN_PAREN"!==t.type)throw new Error("bad start");const e=[];for(;this.#a<t.match-1;){const t=this.peek().linkNext;e.push(this.#h(this.#a+1,t)),this.#a=t}return this.#a=t.match+1,e}peek(){if(this.#a>=this.#f.length)throw new Error("out-of-bounds");return this.#f[this.#a]}peekKeyword(t){const e=this.peekType("KEYWORD");return null!=e&&t.has(e)?e:null}peekType(t){if(0===this.length)return null;const e=this.peek();return e.type===t?e.text:null}pop(){const t=this.peek();return this.#a++,t}toString(){const t=[];for(let e=this.#a;e<this.#f.length;e++){const n=this.#f[e];t.push(`${n.type}:${n.text}`)}return`<TokenString ${t.join(" ")}>`}}function ut(t){const e=[],n=e=>{const n=a<t.length?JSON.stringify(t[a]):"$EOI";throw new Error(`invalid token ${n} at ${a}: ${e}`)};let r=[],s=[],a=0;for(;a<t.length;){let i=t.substring(a),o=i.match(rt);o&&(a+=o[1].length,i=t.substring(a));const c={depth:r.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:a,value:-1};e.push(c);let u=nt[i[0]]||"";if(u){if(c.type=u,c.text=i[0],a++,"OPEN_PAREN"===u)r.push(e.length-1),s.push(e.length-1);else if("CLOSE_PAREN"==u)0===r.length&&n("no matching open bracket"),c.match=r.pop(),e[c.match].match=e.length-1,c.depth--,c.linkBack=s.pop(),e[c.linkBack].linkNext=e.length-1;else if("COMMA"===u)c.linkBack=s.pop(),e[c.linkBack].linkNext=e.length-1,s.push(e.length-1);else if("OPEN_BRACKET"===u)c.type="BRACKET";else if("CLOSE_BRACKET"===u){let t=e.pop().text;if(e.length>0&&"NUMBER"===e[e.length-1].type){const n=e.pop().text;t=n+t,e[e.length-1].value=(0,d.WZ)(n)}if(0===e.length||"BRACKET"!==e[e.length-1].type)throw new Error("missing opening bracket");e[e.length-1].text+=t}}else if(o=i.match(at),o){if(c.text=o[1],a+=c.text.length,et.has(c.text)){c.type="KEYWORD";continue}if(c.text.match(ot)){c.type="TYPE";continue}c.type="ID"}else{if(o=i.match(st),!o)throw new Error(`unexpected token ${JSON.stringify(i[0])} at position ${a}`);c.text=o[1],c.type="NUMBER",a+=c.text.length}}return new ct(e.map((t=>Object.freeze(t))))}function lt(t,e){let n=[];for(const r in e.keys())t.has(r)&&n.push(r);if(n.length>1)throw new Error(`conflicting types: ${n.join(", ")}`)}function ft(t,e){if(e.peekKeyword(X)){const n=e.pop().text;if(n!==t)throw new Error(`expected ${t}, got ${n}`)}return e.popType("ID")}function ht(t,e){const n=new Set;for(;;){const r=t.peekType("KEYWORD");if(null==r||e&&!e.has(r))break;if(t.pop(),n.has(r))throw new Error(`duplicate keywords: ${JSON.stringify(r)}`);n.add(r)}return Object.freeze(n)}function pt(t){let e=ht(t,Y);return lt(e,K("constant payable nonpayable".split(" "))),lt(e,K("pure view payable nonpayable".split(" "))),e.has("view")?"view":e.has("pure")?"pure":e.has("payable")?"payable":e.has("nonpayable")?"nonpayable":e.has("constant")?"view":"nonpayable"}function dt(t,e){return t.popParams().map((t=>Tt.from(t,e)))}function gt(t){if(t.peekType("AT")){if(t.pop(),t.peekType("NUMBER"))return(0,d.Ab)(t.pop().text);throw new Error("invalid gas")}return null}function yt(t){if(t.length)throw new Error(`unexpected tokens at offset ${t.offset}: ${t.toString()}`)}const mt=new RegExp(/^(.*)\[([0-9]*)\]$/);function bt(t){const e=t.match(ot);if((0,r.MR)(e,"invalid type","type",t),"uint"===t)return"uint256";if("int"===t)return"int256";if(e[2]){const n=parseInt(e[2]);(0,r.MR)(0!==n&&n<=32,"invalid bytes length","type",t)}else if(e[3]){const n=parseInt(e[3]);(0,r.MR)(0!==n&&n<=256&&n%8==0,"invalid numeric width","type",t)}return t}const wt={},vt=Symbol.for("_ethers_internal"),Et="_ParamTypeInternal",Rt="_ErrorInternal",xt="_EventInternal",Ot="_ConstructorInternal",At="_FallbackInternal",kt="_FunctionInternal",Nt="_StructInternal";class Tt{name;type;baseType;indexed;components;arrayLength;arrayChildren;constructor(t,e,n,a,i,o,c,u){if((0,r.gk)(t,wt,"ParamType"),Object.defineProperty(this,vt,{value:Et}),o&&(o=Object.freeze(o.slice())),"array"===a){if(null==c||null==u)throw new Error("")}else if(null!=c||null!=u)throw new Error("");if("tuple"===a){if(null==o)throw new Error("")}else if(null!=o)throw new Error("");(0,s.n)(this,{name:e,type:n,baseType:a,indexed:i,components:o,arrayLength:c,arrayChildren:u})}format(t){if(null==t&&(t="sighash"),"json"===t){const e=this.name||"";if(this.isArray()){const t=JSON.parse(this.arrayChildren.format("json"));return t.name=e,t.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(t)}const n={type:"tuple"===this.baseType?"tuple":this.type,name:e};return"boolean"==typeof this.indexed&&(n.indexed=this.indexed),this.isTuple()&&(n.components=this.components.map((e=>JSON.parse(e.format(t))))),JSON.stringify(n)}let e="";return this.isArray()?(e+=this.arrayChildren.format(t),e+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?e+="("+this.components.map((e=>e.format(t))).join("full"===t?", ":",")+")":e+=this.type,"sighash"!==t&&(!0===this.indexed&&(e+=" indexed"),"full"===t&&this.name&&(e+=" "+this.name)),e}isArray(){return"array"===this.baseType}isTuple(){return"tuple"===this.baseType}isIndexable(){return null!=this.indexed}walk(t,e){if(this.isArray()){if(!Array.isArray(t))throw new Error("invalid array value");if(-1!==this.arrayLength&&t.length!==this.arrayLength)throw new Error("array is wrong length");const n=this;return t.map((t=>n.arrayChildren.walk(t,e)))}if(this.isTuple()){if(!Array.isArray(t))throw new Error("invalid tuple value");if(t.length!==this.components.length)throw new Error("array is wrong length");const n=this;return t.map(((t,r)=>n.components[r].walk(t,e)))}return e(this.type,t)}#p(t,e,n,r){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(-1!==this.arrayLength&&e.length!==this.arrayLength)throw new Error("array is wrong length");const s=this.arrayChildren,a=e.slice();return a.forEach(((e,r)=>{s.#p(t,e,n,(t=>{a[r]=t}))})),void r(a)}if(this.isTuple()){const s=this.components;let a;if(Array.isArray(e))a=e.slice();else{if(null==e||"object"!=typeof e)throw new Error("invalid tuple value");a=s.map((t=>{if(!t.name)throw new Error("cannot use object value with unnamed components");if(!(t.name in e))throw new Error(`missing value for component ${t.name}`);return e[t.name]}))}if(a.length!==this.components.length)throw new Error("array is wrong length");return a.forEach(((e,r)=>{s[r].#p(t,e,n,(t=>{a[r]=t}))})),void r(a)}const s=n(this.type,e);s.then?t.push(async function(){r(await s)}()):r(s)}async walkAsync(t,e){const n=[],r=[t];return this.#p(n,t,e,(t=>{r[0]=t})),n.length&&await Promise.all(n),r[0]}static from(t,e){if(Tt.isParamType(t))return t;if("string"==typeof t)try{return Tt.from(ut(t),e)}catch(e){(0,r.MR)(!1,"invalid param type","obj",t)}else if(t instanceof ct){let n="",r="",s=null;ht(t,K(["tuple"])).has("tuple")||t.peekType("OPEN_PAREN")?(r="tuple",s=t.popParams().map((t=>Tt.from(t))),n=`tuple(${s.map((t=>t.format())).join(",")})`):(n=bt(t.popType("TYPE")),r=n);let a=null,i=null;for(;t.length&&t.peekType("BRACKET");){const e=t.pop();a=new Tt(wt,"",n,r,null,s,i,a),i=e.value,n+=e.text,r="array",s=null}let o=null;if(ht(t,tt).has("indexed")){if(!e)throw new Error("");o=!0}const c=t.peekType("ID")?t.pop().text:"";if(t.length)throw new Error("leftover tokens");return new Tt(wt,c,n,r,o,s,i,a)}const n=t.name;(0,r.MR)(!n||"string"==typeof n&&n.match(it),"invalid name","obj.name",n);let s=t.indexed;null!=s&&((0,r.MR)(e,"parameter cannot be indexed","obj.indexed",t.indexed),s=!!s);let a=t.type,i=a.match(mt);if(i){const e=parseInt(i[2]||"-1"),r=Tt.from({type:i[1],components:t.components});return new Tt(wt,n||"",a,"array",s,null,e,r)}if("tuple"===a||a.startsWith("tuple(")||a.startsWith("(")){const e=null!=t.components?t.components.map((t=>Tt.from(t))):null;return new Tt(wt,n||"",a,"tuple",s,e,null,null)}return a=bt(t.type),new Tt(wt,n||"",a,a,s,null,null,null)}static isParamType(t){return t&&t[vt]===Et}}class Pt{type;inputs;constructor(t,e,n){(0,r.gk)(t,wt,"Fragment"),n=Object.freeze(n.slice()),(0,s.n)(this,{type:e,inputs:n})}static from(t){if("string"==typeof t){try{Pt.from(JSON.parse(t))}catch(t){}return Pt.from(ut(t))}if(t instanceof ct)switch(t.peekKeyword(X)){case"constructor":return It.from(t);case"error":return Mt.from(t);case"event":return Ct.from(t);case"fallback":case"receive":return jt.from(t);case"function":return $t.from(t);case"struct":return Ft.from(t)}else if("object"==typeof t){switch(t.type){case"constructor":return It.from(t);case"error":return Mt.from(t);case"event":return Ct.from(t);case"fallback":case"receive":return jt.from(t);case"function":return $t.from(t);case"struct":return Ft.from(t)}(0,r.vA)(!1,`unsupported type: ${t.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}(0,r.MR)(!1,"unsupported frgament object","obj",t)}static isConstructor(t){return It.isFragment(t)}static isError(t){return Mt.isFragment(t)}static isEvent(t){return Ct.isFragment(t)}static isFunction(t){return $t.isFragment(t)}static isStruct(t){return Ft.isFragment(t)}}class _t extends Pt{name;constructor(t,e,n,a){super(t,e,a),(0,r.MR)("string"==typeof n&&n.match(it),"invalid identifier","name",n),a=Object.freeze(a.slice()),(0,s.n)(this,{name:n})}}function St(t,e){return"("+e.map((e=>e.format(t))).join("full"===t?", ":",")+")"}class Mt extends _t{constructor(t,e,n){super(t,"error",e,n),Object.defineProperty(this,vt,{value:Rt})}get selector(){return h(this.format("sighash")).substring(0,10)}format(t){if(null==t&&(t="sighash"),"json"===t)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map((e=>JSON.parse(e.format(t))))});const e=[];return"sighash"!==t&&e.push("error"),e.push(this.name+St(t,this.inputs)),e.join(" ")}static from(t){if(Mt.isFragment(t))return t;if("string"==typeof t)return Mt.from(ut(t));if(t instanceof ct){const e=ft("error",t),n=dt(t);return yt(t),new Mt(wt,e,n)}return new Mt(wt,t.name,t.inputs?t.inputs.map(Tt.from):[])}static isFragment(t){return t&&t[vt]===Rt}}class Ct extends _t{anonymous;constructor(t,e,n,r){super(t,"event",e,n),Object.defineProperty(this,vt,{value:xt}),(0,s.n)(this,{anonymous:r})}get topicHash(){return h(this.format("sighash"))}format(t){if(null==t&&(t="sighash"),"json"===t)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map((e=>JSON.parse(e.format(t))))});const e=[];return"sighash"!==t&&e.push("event"),e.push(this.name+St(t,this.inputs)),"sighash"!==t&&this.anonymous&&e.push("anonymous"),e.join(" ")}static getTopicHash(t,e){return e=(e||[]).map((t=>Tt.from(t))),new Ct(wt,t,e,!1).topicHash}static from(t){if(Ct.isFragment(t))return t;if("string"==typeof t)try{return Ct.from(ut(t))}catch(e){(0,r.MR)(!1,"invalid event fragment","obj",t)}else if(t instanceof ct){const e=ft("event",t),n=dt(t,!0),r=!!ht(t,K(["anonymous"])).has("anonymous");return yt(t),new Ct(wt,e,n,r)}return new Ct(wt,t.name,t.inputs?t.inputs.map((t=>Tt.from(t,!0))):[],!!t.anonymous)}static isFragment(t){return t&&t[vt]===xt}}class It extends Pt{payable;gas;constructor(t,e,n,r,a){super(t,e,n),Object.defineProperty(this,vt,{value:Ot}),(0,s.n)(this,{payable:r,gas:a})}format(t){if((0,r.vA)(null!=t&&"sighash"!==t,"cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),"json"===t)return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:null!=this.gas?this.gas:void 0,inputs:this.inputs.map((e=>JSON.parse(e.format(t))))});const e=[`constructor${St(t,this.inputs)}`];return this.payable&&e.push("payable"),null!=this.gas&&e.push(`@${this.gas.toString()}`),e.join(" ")}static from(t){if(It.isFragment(t))return t;if("string"==typeof t)try{return It.from(ut(t))}catch(e){(0,r.MR)(!1,"invalid constuctor fragment","obj",t)}else if(t instanceof ct){ht(t,K(["constructor"]));const e=dt(t),n=!!ht(t,Z).has("payable"),r=gt(t);return yt(t),new It(wt,"constructor",e,n,r)}return new It(wt,"constructor",t.inputs?t.inputs.map(Tt.from):[],!!t.payable,null!=t.gas?t.gas:null)}static isFragment(t){return t&&t[vt]===Ot}}class jt extends Pt{payable;constructor(t,e,n){super(t,"fallback",e),Object.defineProperty(this,vt,{value:At}),(0,s.n)(this,{payable:n})}format(t){const e=0===this.inputs.length?"receive":"fallback";if("json"===t){const t=this.payable?"payable":"nonpayable";return JSON.stringify({type:e,stateMutability:t})}return`${e}()${this.payable?" payable":""}`}static from(t){if(jt.isFragment(t))return t;if("string"==typeof t)try{return jt.from(ut(t))}catch(e){(0,r.MR)(!1,"invalid fallback fragment","obj",t)}else if(t instanceof ct){const e=t.toString(),n=t.peekKeyword(K(["fallback","receive"]));if((0,r.MR)(n,"type must be fallback or receive","obj",e),"receive"===t.popKeyword(K(["fallback","receive"]))){const e=dt(t);return(0,r.MR)(0===e.length,"receive cannot have arguments","obj.inputs",e),ht(t,K(["payable"])),yt(t),new jt(wt,[],!0)}let s=dt(t);s.length?(0,r.MR)(1===s.length&&"bytes"===s[0].type,"invalid fallback inputs","obj.inputs",s.map((t=>t.format("minimal"))).join(", ")):s=[Tt.from("bytes")];const a=pt(t);if((0,r.MR)("nonpayable"===a||"payable"===a,"fallback cannot be constants","obj.stateMutability",a),ht(t,K(["returns"])).has("returns")){const e=dt(t);(0,r.MR)(1===e.length&&"bytes"===e[0].type,"invalid fallback outputs","obj.outputs",e.map((t=>t.format("minimal"))).join(", "))}return yt(t),new jt(wt,s,"payable"===a)}if("receive"===t.type)return new jt(wt,[],!0);if("fallback"===t.type){const e=[Tt.from("bytes")],n="payable"===t.stateMutability;return new jt(wt,e,n)}(0,r.MR)(!1,"invalid fallback description","obj",t)}static isFragment(t){return t&&t[vt]===At}}class $t extends _t{constant;outputs;stateMutability;payable;gas;constructor(t,e,n,r,a,i){super(t,"function",e,r),Object.defineProperty(this,vt,{value:kt}),a=Object.freeze(a.slice());const o="view"===n||"pure"===n,c="payable"===n;(0,s.n)(this,{constant:o,gas:i,outputs:a,payable:c,stateMutability:n})}get selector(){return h(this.format("sighash")).substring(0,10)}format(t){if(null==t&&(t="sighash"),"json"===t)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:null!=this.gas?this.gas:void 0,inputs:this.inputs.map((e=>JSON.parse(e.format(t)))),outputs:this.outputs.map((e=>JSON.parse(e.format(t))))});const e=[];return"sighash"!==t&&e.push("function"),e.push(this.name+St(t,this.inputs)),"sighash"!==t&&("nonpayable"!==this.stateMutability&&e.push(this.stateMutability),this.outputs&&this.outputs.length&&(e.push("returns"),e.push(St(t,this.outputs))),null!=this.gas&&e.push(`@${this.gas.toString()}`)),e.join(" ")}static getSelector(t,e){return e=(e||[]).map((t=>Tt.from(t))),new $t(wt,t,"view",e,[],null).selector}static from(t){if($t.isFragment(t))return t;if("string"==typeof t)try{return $t.from(ut(t))}catch(e){(0,r.MR)(!1,"invalid function fragment","obj",t)}else if(t instanceof ct){const e=ft("function",t),n=dt(t),r=pt(t);let s=[];ht(t,K(["returns"])).has("returns")&&(s=dt(t));const a=gt(t);return yt(t),new $t(wt,e,r,n,s,a)}let e=t.stateMutability;return null==e&&(e="payable","boolean"==typeof t.constant?(e="view",t.constant||(e="payable","boolean"!=typeof t.payable||t.payable||(e="nonpayable"))):"boolean"!=typeof t.payable||t.payable||(e="nonpayable")),new $t(wt,t.name,e,t.inputs?t.inputs.map(Tt.from):[],t.outputs?t.outputs.map(Tt.from):[],null!=t.gas?t.gas:null)}static isFragment(t){return t&&t[vt]===kt}}class Ft extends _t{constructor(t,e,n){super(t,"struct",e,n),Object.defineProperty(this,vt,{value:Nt})}format(){throw new Error("@TODO")}static from(t){if("string"==typeof t)try{return Ft.from(ut(t))}catch(e){(0,r.MR)(!1,"invalid struct fragment","obj",t)}else if(t instanceof ct){const e=ft("struct",t),n=dt(t);return yt(t),new Ft(wt,e,n)}return new Ft(wt,t.name,t.inputs?t.inputs.map(Tt.from):[])}static isFragment(t){return t&&t[vt]===Nt}}const Lt=new Map;Lt.set(0,"GENERIC_PANIC"),Lt.set(1,"ASSERT_FALSE"),Lt.set(17,"OVERFLOW"),Lt.set(18,"DIVIDE_BY_ZERO"),Lt.set(33,"ENUM_RANGE_ERROR"),Lt.set(34,"BAD_STORAGE_DATA"),Lt.set(49,"STACK_UNDERFLOW"),Lt.set(50,"ARRAY_RANGE_ERROR"),Lt.set(65,"OUT_OF_MEMORY"),Lt.set(81,"UNINITIALIZED_FUNCTION_CALL");const Ut=new RegExp(/^bytes([0-9]*)$/),Dt=new RegExp(/^(u?int)([0-9]*)$/);let Bt=null,Vt=1024;class zt{#d(t){if(t.isArray())return new I(this.#d(t.arrayChildren),t.arrayLength,t.name);if(t.isTuple())return new W(t.components.map((t=>this.#d(t))),t.name);switch(t.baseType){case"address":return new _(t.name);case"bool":return new j(t.name);case"string":return new G(t.name);case"bytes":return new F(t.name);case"":return new D(t.name)}let e=t.type.match(Dt);if(e){let n=parseInt(e[2]||"256");return(0,r.MR)(0!==n&&n<=256&&n%8==0,"invalid "+e[1]+" bit length","param",t),new J(n/8,"int"===e[1],t.name)}if(e=t.type.match(Ut),e){let n=parseInt(e[1]);return(0,r.MR)(0!==n&&n<=32,"invalid bytes length","param",t),new L(n,t.name)}(0,r.MR)(!1,"invalid type","type",t.type)}getDefaultValue(t){const e=t.map((t=>this.#d(Tt.from(t))));return new W(e,"_").defaultValue()}encode(t,e){(0,r.dd)(e.length,t.length,"types/values length mismatch");const n=t.map((t=>this.#d(Tt.from(t)))),s=new W(n,"_"),a=new N;return s.encode(a,e),a.data}decode(t,e,n){const r=t.map((t=>this.#d(Tt.from(t))));return new W(r,"_").decode(new T(e,n,Vt))}static _setDefaultMaxInflation(t){(0,r.MR)("number"==typeof t&&Number.isInteger(t),"invalid defaultMaxInflation factor","value",t),Vt=t}static defaultAbiCoder(){return null==Bt&&(Bt=new zt),Bt}static getBuiltinCallException(t,e,n){return function(t,e,n,s){let a="missing revert data",i=null,o=null;if(n){a="execution reverted";const t=(0,p.q5)(n);if(n=(0,p.c$)(n),0===t.length)a+=" (no data present; likely require(false) occurred",i="require(false)";else if(t.length%32!=4)a+=" (could not decode reason; invalid data length)";else if("0x08c379a0"===(0,p.c$)(t.slice(0,4)))try{i=s.decode(["string"],t.slice(4))[0],o={signature:"Error(string)",name:"Error",args:[i]},a+=`: ${JSON.stringify(i)}`}catch(t){a+=" (could not decode reason; invalid string data)"}else if("0x4e487b71"===(0,p.c$)(t.slice(0,4)))try{const e=Number(s.decode(["uint256"],t.slice(4))[0]);o={signature:"Panic(uint256)",name:"Panic",args:[e]},i=`Panic due to ${Lt.get(e)||"UNKNOWN"}(${e})`,a+=`: ${i}`}catch(t){a+=" (could not decode panic code)"}else a+=" (unknown custom error)"}const c={to:e.to?(0,P.b)(e.to):null,data:e.data||"0x"};return e.from&&(c.from=(0,P.b)(e.from)),(0,r.xz)(a,"CALL_EXCEPTION",{action:t,data:n,reason:i,transaction:c,invocation:null,revert:o})}(t,e,n,zt.defaultAbiCoder())}}class Jt{fragment;name;signature;topic;args;constructor(t,e,n){const r=t.name,a=t.format();(0,s.n)(this,{fragment:t,name:r,signature:a,topic:e,args:n})}}class Gt{fragment;name;args;signature;selector;value;constructor(t,e,n,r){const a=t.name,i=t.format();(0,s.n)(this,{fragment:t,name:a,args:n,signature:i,selector:e,value:r})}}class Wt{fragment;name;args;signature;selector;constructor(t,e,n){const r=t.name,a=t.format();(0,s.n)(this,{fragment:t,name:r,args:n,signature:a,selector:e})}}class Kt{hash;_isIndexed;static isIndexed(t){return!(!t||!t._isIndexed)}constructor(t){(0,s.n)(this,{hash:t,_isIndexed:!0})}}const Zt={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},qt={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:t=>`reverted with reason string ${JSON.stringify(t)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:t=>{let e="unknown panic code";return t>=0&&t<=255&&Zt[t.toString()]&&(e=Zt[t.toString()]),`reverted with panic code 0x${t.toString(16)} (${e})`}}};class Yt{fragments;deploy;fallback;receive;#g;#y;#m;#b;constructor(t){let e=[];e="string"==typeof t?JSON.parse(t):t,this.#m=new Map,this.#g=new Map,this.#y=new Map;const n=[];for(const t of e)try{n.push(Pt.from(t))}catch(e){console.log(`[Warning] Invalid Fragment ${JSON.stringify(t)}:`,e.message)}(0,s.n)(this,{fragments:Object.freeze(n)});let a=null,i=!1;this.#b=this.getAbiCoder(),this.fragments.forEach(((t,e)=>{let n;switch(t.type){case"constructor":return this.deploy?void console.log("duplicate definition - constructor"):void(0,s.n)(this,{deploy:t});case"fallback":return void(0===t.inputs.length?i=!0:((0,r.MR)(!a||t.payable!==a.payable,"conflicting fallback fragments",`fragments[${e}]`,t),a=t,i=a.payable));case"function":n=this.#m;break;case"event":n=this.#y;break;case"error":n=this.#g;break;default:return}const o=t.format();n.has(o)||n.set(o,t)})),this.deploy||(0,s.n)(this,{deploy:It.from("constructor()")}),(0,s.n)(this,{fallback:a,receive:i})}format(t){const e=t?"minimal":"full";return this.fragments.map((t=>t.format(e)))}formatJson(){const t=this.fragments.map((t=>t.format("json")));return JSON.stringify(t.map((t=>JSON.parse(t))))}getAbiCoder(){return zt.defaultAbiCoder()}#w(t,e,n){if((0,p.Lo)(t)){const e=t.toLowerCase();for(const t of this.#m.values())if(e===t.selector)return t;return null}if(-1===t.indexOf("(")){const s=[];for(const[e,n]of this.#m)e.split("(")[0]===t&&s.push(n);if(e){const t=e.length>0?e[e.length-1]:null;let n=e.length,r=!0;u.isTyped(t)&&"overrides"===t.type&&(r=!1,n--);for(let t=s.length-1;t>=0;t--){const e=s[t].inputs.length;e===n||r&&e===n-1||s.splice(t,1)}for(let t=s.length-1;t>=0;t--){const n=s[t].inputs;for(let r=0;r<e.length;r++)if(u.isTyped(e[r])){if(r>=n.length){if("overrides"===e[r].type)continue;s.splice(t,1);break}if(e[r].type!==n[r].baseType){s.splice(t,1);break}}}}if(1===s.length&&e&&e.length!==s[0].inputs.length){const t=e[e.length-1];(null==t||Array.isArray(t)||"object"!=typeof t)&&s.splice(0,1)}if(0===s.length)return null;if(s.length>1&&n){const e=s.map((t=>JSON.stringify(t.format()))).join(", ");(0,r.MR)(!1,`ambiguous function description (i.e. matches ${e})`,"key",t)}return s[0]}return this.#m.get($t.from(t).format())||null}getFunctionName(t){const e=this.#w(t,null,!1);return(0,r.MR)(e,"no matching function","key",t),e.name}hasFunction(t){return!!this.#w(t,null,!1)}getFunction(t,e){return this.#w(t,e||null,!0)}forEachFunction(t){const e=Array.from(this.#m.keys());e.sort(((t,e)=>t.localeCompare(e)));for(let n=0;n<e.length;n++){const r=e[n];t(this.#m.get(r),n)}}#v(t,e,n){if((0,p.Lo)(t)){const e=t.toLowerCase();for(const t of this.#y.values())if(e===t.topicHash)return t;return null}if(-1===t.indexOf("(")){const s=[];for(const[e,n]of this.#y)e.split("(")[0]===t&&s.push(n);if(e){for(let t=s.length-1;t>=0;t--)s[t].inputs.length<e.length&&s.splice(t,1);for(let t=s.length-1;t>=0;t--){const n=s[t].inputs;for(let r=0;r<e.length;r++)if(u.isTyped(e[r])&&e[r].type!==n[r].baseType){s.splice(t,1);break}}}if(0===s.length)return null;if(s.length>1&&n){const e=s.map((t=>JSON.stringify(t.format()))).join(", ");(0,r.MR)(!1,`ambiguous event description (i.e. matches ${e})`,"key",t)}return s[0]}return this.#y.get(Ct.from(t).format())||null}getEventName(t){const e=this.#v(t,null,!1);return(0,r.MR)(e,"no matching event","key",t),e.name}hasEvent(t){return!!this.#v(t,null,!1)}getEvent(t,e){return this.#v(t,e||null,!0)}forEachEvent(t){const e=Array.from(this.#y.keys());e.sort(((t,e)=>t.localeCompare(e)));for(let n=0;n<e.length;n++){const r=e[n];t(this.#y.get(r),n)}}getError(t,e){if((0,p.Lo)(t)){const e=t.toLowerCase();if(qt[e])return Mt.from(qt[e].signature);for(const t of this.#g.values())if(e===t.selector)return t;return null}if(-1===t.indexOf("(")){const e=[];for(const[n,r]of this.#g)n.split("(")[0]===t&&e.push(r);if(0===e.length)return"Error"===t?Mt.from("error Error(string)"):"Panic"===t?Mt.from("error Panic(uint256)"):null;if(e.length>1){const n=e.map((t=>JSON.stringify(t.format()))).join(", ");(0,r.MR)(!1,`ambiguous error description (i.e. ${n})`,"name",t)}return e[0]}if("Error(string)"===(t=Mt.from(t).format()))return Mt.from("error Error(string)");if("Panic(uint256)"===t)return Mt.from("error Panic(uint256)");return this.#g.get(t)||null}forEachError(t){const e=Array.from(this.#g.keys());e.sort(((t,e)=>t.localeCompare(e)));for(let n=0;n<e.length;n++){const r=e[n];t(this.#g.get(r),n)}}_decodeParams(t,e){return this.#b.decode(t,e)}_encodeParams(t,e){return this.#b.encode(t,e)}encodeDeploy(t){return this._encodeParams(this.deploy.inputs,t||[])}decodeErrorResult(t,e){if("string"==typeof t){const e=this.getError(t);(0,r.MR)(e,"unknown error","fragment",t),t=e}return(0,r.MR)((0,p.ZG)(e,0,4)===t.selector,`data signature does not match error ${t.name}.`,"data",e),this._decodeParams(t.inputs,(0,p.ZG)(e,4))}encodeErrorResult(t,e){if("string"==typeof t){const e=this.getError(t);(0,r.MR)(e,"unknown error","fragment",t),t=e}return(0,p.xW)([t.selector,this._encodeParams(t.inputs,e||[])])}decodeFunctionData(t,e){if("string"==typeof t){const e=this.getFunction(t);(0,r.MR)(e,"unknown function","fragment",t),t=e}return(0,r.MR)((0,p.ZG)(e,0,4)===t.selector,`data signature does not match function ${t.name}.`,"data",e),this._decodeParams(t.inputs,(0,p.ZG)(e,4))}encodeFunctionData(t,e){if("string"==typeof t){const e=this.getFunction(t);(0,r.MR)(e,"unknown function","fragment",t),t=e}return(0,p.xW)([t.selector,this._encodeParams(t.inputs,e||[])])}decodeFunctionResult(t,e){if("string"==typeof t){const e=this.getFunction(t);(0,r.MR)(e,"unknown function","fragment",t),t=e}let n="invalid length for result data";const s=(0,p.Lm)(e);if(s.length%32==0)try{return this.#b.decode(t.outputs,s)}catch(t){n="could not decode result data"}(0,r.vA)(!1,n,"BAD_DATA",{value:(0,p.c$)(s),info:{method:t.name,signature:t.format()}})}makeError(t,e){const n=(0,p.q5)(t,"data"),r=zt.getBuiltinCallException("call",e,n);if(r.message.startsWith("execution reverted (unknown custom error)")){const t=(0,p.c$)(n.slice(0,4)),e=this.getError(t);if(e)try{const t=this.#b.decode(e.inputs,n.slice(4));r.revert={name:e.name,signature:e.format(),args:t},r.reason=r.revert.signature,r.message=`execution reverted: ${r.reason}`}catch(t){r.message="execution reverted (coult not decode custom error)"}}const s=this.parseTransaction(e);return s&&(r.invocation={method:s.name,signature:s.signature,args:s.args}),r}encodeFunctionResult(t,e){if("string"==typeof t){const e=this.getFunction(t);(0,r.MR)(e,"unknown function","fragment",t),t=e}return(0,p.c$)(this.#b.encode(t.outputs,e||[]))}encodeFilterTopics(t,e){if("string"==typeof t){const e=this.getEvent(t);(0,r.MR)(e,"unknown event","eventFragment",t),t=e}(0,r.vA)(e.length<=t.inputs.length,`too many arguments for ${t.format()}`,"UNEXPECTED_ARGUMENT",{count:e.length,expectedCount:t.inputs.length});const n=[];t.anonymous||n.push(t.topicHash);const s=(t,e)=>"string"===t.type?h(e):"bytes"===t.type?(0,l.S)((0,p.c$)(e)):("bool"===t.type&&"boolean"==typeof e?e=e?"0x01":"0x00":t.type.match(/^u?int/)?e=(0,d.up)(e):t.type.match(/^bytes/)?e=(0,p.X_)(e,32):"address"===t.type&&this.#b.encode(["address"],[e]),(0,p.nx)((0,p.c$)(e),32));for(e.forEach(((e,a)=>{const i=t.inputs[a];i.indexed?null==e?n.push(null):"array"===i.baseType||"tuple"===i.baseType?(0,r.MR)(!1,"filtering with tuples or arrays not supported","contract."+i.name,e):Array.isArray(e)?n.push(e.map((t=>s(i,t)))):n.push(s(i,e)):(0,r.MR)(null==e,"cannot filter non-indexed parameters; must be null","contract."+i.name,e)}));n.length&&null===n[n.length-1];)n.pop();return n}encodeEventLog(t,e){if("string"==typeof t){const e=this.getEvent(t);(0,r.MR)(e,"unknown event","eventFragment",t),t=e}const n=[],s=[],a=[];return t.anonymous||n.push(t.topicHash),(0,r.MR)(e.length===t.inputs.length,"event arguments/values mismatch","values",e),t.inputs.forEach(((t,r)=>{const i=e[r];if(t.indexed)if("string"===t.type)n.push(h(i));else if("bytes"===t.type)n.push((0,l.S)(i));else{if("tuple"===t.baseType||"array"===t.baseType)throw new Error("not implemented");n.push(this.#b.encode([t.type],[i]))}else s.push(t),a.push(i)})),{data:this.#b.encode(s,a),topics:n}}decodeEventLog(t,e,n){if("string"==typeof t){const e=this.getEvent(t);(0,r.MR)(e,"unknown event","eventFragment",t),t=e}if(null!=n&&!t.anonymous){const e=t.topicHash;(0,r.MR)((0,p.Lo)(n[0],32)&&n[0].toLowerCase()===e,"fragment/topic mismatch","topics[0]",n[0]),n=n.slice(1)}const s=[],a=[],i=[];t.inputs.forEach(((t,e)=>{t.indexed?"string"===t.type||"bytes"===t.type||"tuple"===t.baseType||"array"===t.baseType?(s.push(Tt.from({type:"bytes32",name:t.name})),i.push(!0)):(s.push(t),i.push(!1)):(a.push(t),i.push(!1))}));const o=null!=n?this.#b.decode(s,(0,p.xW)(n)):null,c=this.#b.decode(a,e,!0),u=[],l=[];let f=0,h=0;return t.inputs.forEach(((t,e)=>{let n=null;if(t.indexed)if(null==o)n=new Kt(null);else if(i[e])n=new Kt(o[h++]);else try{n=o[h++]}catch(t){n=t}else try{n=c[f++]}catch(t){n=t}u.push(n),l.push(t.name||null)})),O.fromItems(u,l)}parseTransaction(t){const e=(0,p.q5)(t.data,"tx.data"),n=(0,d.Ab)(null!=t.value?t.value:0,"tx.value"),r=this.getFunction((0,p.c$)(e.slice(0,4)));if(!r)return null;const s=this.#b.decode(r.inputs,e.slice(4));return new Gt(r,r.selector,s,n)}parseCallResult(t){throw new Error("@TODO")}parseLog(t){const e=this.getEvent(t.topics[0]);return!e||e.anonymous?null:new Jt(e,e.topicHash,this.decodeEventLog(e,t.data,t.topics))}parseError(t){const e=(0,p.c$)(t),n=this.getError((0,p.ZG)(e,0,4));if(!n)return null;const r=this.#b.decode(n.inputs,(0,p.ZG)(e,4));return new Wt(n,n.selector,r)}static from(t){return t instanceof Yt?t:"string"==typeof t?new Yt(JSON.parse(t)):"function"==typeof t.formatJson?new Yt(t.formatJson()):"function"==typeof t.format?new Yt(t.format("json")):new Yt(t)}}function Ht(t){return t&&"function"==typeof t.getAddress}async function Xt(t,e){const n=await e;return null!=n&&"0x0000000000000000000000000000000000000000"!==n||((0,r.vA)("string"!=typeof t,"unconfigured name","UNCONFIGURED_NAME",{value:t}),(0,r.MR)(!1,"invalid AddressLike value; did not resolve to a value address","target",t)),(0,P.b)(n)}function Qt(t,e){return"string"==typeof t?t.match(/^0x[0-9a-f]{40}$/i)?(0,P.b)(t):((0,r.vA)(null!=e,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),Xt(t,e.resolveName(t))):Ht(t)?Xt(t,t.getAddress()):t&&"function"==typeof t.then?Xt(t,t):void(0,r.MR)(!1,"unsupported addressable value","target",t)}var te=n(321),ee=n(381);class ne extends te.tG{interface;fragment;args;constructor(t,e,n){super(t,t.provider);const r=e.decodeEventLog(n,t.data,t.topics);(0,s.n)(this,{args:r,fragment:n,interface:e})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class re extends te.tG{error;constructor(t,e){super(t,t.provider),(0,s.n)(this,{error:e})}}class se extends te.z5{#E;constructor(t,e,n){super(n,e),this.#E=t}get logs(){return super.logs.map((t=>{const e=t.topics.length?this.#E.getEvent(t.topics[0]):null;if(e)try{return new ne(t,this.#E,e)}catch(e){return new re(t,e)}return t}))}}class ae extends te.uI{#E;constructor(t,e,n){super(n,e),this.#E=t}async wait(t,e){const n=await super.wait(t,e);return null==n?null:new se(this.#E,this.provider,n)}}class ie extends ee.z{log;constructor(t,e,n,r){super(t,e,n),(0,s.n)(this,{log:r})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class oe extends ie{constructor(t,e,n,r,a){super(t,e,n,new ne(a,t.interface,r));const i=t.interface.decodeEventLog(r,this.log.data,this.log.topics);(0,s.n)(this,{args:i,fragment:r})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}const ce=BigInt(0);function ue(t){return t&&"function"==typeof t.call}function le(t){return t&&"function"==typeof t.estimateGas}function fe(t){return t&&"function"==typeof t.resolveName}function he(t){return t&&"function"==typeof t.sendTransaction}function pe(t){if(null!=t){if(fe(t))return t;if(t.provider)return t.provider}}class de{#R;fragment;constructor(t,e,n){if((0,s.n)(this,{fragment:e}),e.inputs.length<n.length)throw new Error("too many arguments");const r=ge(t.runner,"resolveName"),a=fe(r)?r:null;this.#R=async function(){const r=await Promise.all(e.inputs.map(((t,e)=>null==n[e]?null:t.walkAsync(n[e],((t,e)=>"address"===t?Array.isArray(e)?Promise.all(e.map((t=>Qt(t,a)))):Qt(e,a):e)))));return t.interface.encodeFilterTopics(e,r)}()}getTopicFilter(){return this.#R}}function ge(t,e){return null==t?null:"function"==typeof t[e]?t:t.provider&&"function"==typeof t.provider[e]?t.provider:null}function ye(t){return null==t?null:t.provider||null}async function me(t,e){const n=u.dereference(t,"overrides");(0,r.MR)("object"==typeof n,"invalid overrides parameter","overrides",t);const s=(0,te.VS)(n);return(0,r.MR)(null==s.to||(e||[]).indexOf("to")>=0,"cannot override to","overrides.to",s.to),(0,r.MR)(null==s.data||(e||[]).indexOf("data")>=0,"cannot override data","overrides.data",s.data),s.from&&(s.from=s.from),s}function be(t){const e=async function(e){const n=await me(e,["data"]);n.to=await t.getAddress(),n.from&&(n.from=await Qt(n.from,pe(t.runner)));const s=t.interface,a=(0,d.Ab)(n.value||ce,"overrides.value")===ce,i="0x"===(n.data||"0x");!s.fallback||s.fallback.payable||!s.receive||i||a||(0,r.MR)(!1,"cannot send data to receive or send value to non-payable fallback","overrides",e),(0,r.MR)(s.fallback||i,"cannot send data to receive-only contract","overrides.data",n.data);const o=s.receive||s.fallback&&s.fallback.payable;return(0,r.MR)(o||a,"cannot send value to non-payable fallback","overrides.value",n.value),(0,r.MR)(s.fallback||i,"cannot send data to receive-only contract","overrides.data",n.data),n},n=async function(n){const s=t.runner;(0,r.vA)(he(s),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const a=await s.sendTransaction(await e(n)),i=ye(t.runner);return new ae(t.interface,i,a)},a=async t=>await n(t);return(0,s.n)(a,{_contract:t,estimateGas:async function(n){const s=ge(t.runner,"estimateGas");return(0,r.vA)(le(s),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await s.estimateGas(await e(n))},populateTransaction:e,send:n,staticCall:async function(n){const s=ge(t.runner,"call");(0,r.vA)(ue(s),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const a=await e(n);try{return await s.call(a)}catch(e){if((0,r.E)(e)&&e.data)throw t.interface.makeError(e.data,a);throw e}}}),a}const we=Symbol.for("_ethersInternal_contract"),ve=new WeakMap;function Ee(t){return ve.get(t[we])}async function Re(t,e){let n,s=null;if(Array.isArray(e)){const s=function(e){if((0,p.Lo)(e,32))return e;const n=t.interface.getEvent(e);return(0,r.MR)(n,"unknown fragment","name",e),n.topicHash};n=e.map((t=>null==t?null:Array.isArray(t)?t.map(s):s(t)))}else"*"===e?n=[null]:"string"==typeof e?(0,p.Lo)(e,32)?n=[e]:(s=t.interface.getEvent(e),(0,r.MR)(s,"unknown fragment","event",e),n=[s.topicHash]):(a=e)&&"object"==typeof a&&"getTopicFilter"in a&&"function"==typeof a.getTopicFilter&&a.fragment?n=await e.getTopicFilter():"fragment"in e?(s=e.fragment,n=[s.topicHash]):(0,r.MR)(!1,"unknown event name","event",e);var a;return n=n.map((t=>{if(null==t)return null;if(Array.isArray(t)){const e=Array.from(new Set(t.map((t=>t.toLowerCase()))).values());return 1===e.length?e[0]:(e.sort(),e)}return t.toLowerCase()})),{fragment:s,tag:n.map((t=>null==t?"null":Array.isArray(t)?t.join("|"):t)).join("&"),topics:n}}async function xe(t,e){const{subs:n}=Ee(t);return n.get((await Re(t,e)).tag)||null}async function Oe(t,e,n){const s=ye(t.runner);(0,r.vA)(s,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:e});const{fragment:a,tag:i,topics:o}=await Re(t,n),{addr:c,subs:u}=Ee(t);let l=u.get(i);if(!l){const e={address:c||t,topics:o},r=e=>{let r=a;if(null==r)try{r=t.interface.getEvent(e.topics[0])}catch(t){}if(r){const s=r,i=a?t.interface.decodeEventLog(a,e.data,e.topics):[];ke(t,n,i,(r=>new oe(t,r,n,s,e)))}else ke(t,n,[],(r=>new ie(t,r,n,e)))};let f=[];l={tag:i,listeners:[],start:()=>{f.length||f.push(s.on(e,r))},stop:async()=>{if(0==f.length)return;let t=f;f=[],await Promise.all(t),s.off(e,r)}},u.set(i,l)}return l}let Ae=Promise.resolve();async function ke(t,e,n,r){try{await Ae}catch(t){}const s=async function(t,e,n,r){await Ae;const s=await xe(t,e);if(!s)return!1;const a=s.listeners.length;return s.listeners=s.listeners.filter((({listener:e,once:s})=>{const a=Array.from(n);r&&a.push(r(s?null:e));try{e.call(t,...a)}catch(t){}return!s})),0===s.listeners.length&&(s.stop(),Ee(t).subs.delete(s.tag)),a>0}(t,e,n,r);return Ae=s,await s}const Ne=["then"];class Te{target;interface;runner;filters;[we];fallback;constructor(t,e,n,a){(0,r.MR)("string"==typeof t||Ht(t),"invalid value for Contract target","target",t),null==n&&(n=null);const i=Yt.from(e);let o;(0,s.n)(this,{target:t,runner:n,interface:i}),Object.defineProperty(this,we,{value:{}});let c=null,u=null;if(a){const t=ye(n);u=new ae(this.interface,t,a)}let l=new Map;if("string"==typeof t)if((0,p.Lo)(t))c=t,o=Promise.resolve(t);else{const e=ge(n,"resolveName");if(!fe(e))throw(0,r.xz)("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});o=e.resolveName(t).then((e=>{if(null==e)throw(0,r.xz)("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:t});return Ee(this).addr=e,e}))}else o=t.getAddress().then((t=>{if(null==t)throw new Error("TODO");return Ee(this).addr=t,t}));var f;f={addrPromise:o,addr:c,deployTx:u,subs:l},ve.set(this[we],f);const h=new Proxy({},{get:(t,e,n)=>{if("symbol"==typeof e||Ne.indexOf(e)>=0)return Reflect.get(t,e,n);try{return this.getEvent(e)}catch(t){if(!(0,r.bJ)(t,"INVALID_ARGUMENT")||"key"!==t.argument)throw t}},has:(t,e)=>Ne.indexOf(e)>=0?Reflect.has(t,e):Reflect.has(t,e)||this.interface.hasEvent(String(e))});return(0,s.n)(this,{filters:h}),(0,s.n)(this,{fallback:i.receive||i.fallback?be(this):null}),new Proxy(this,{get:(t,e,n)=>{if("symbol"==typeof e||e in t||Ne.indexOf(e)>=0)return Reflect.get(t,e,n);try{return t.getFunction(e)}catch(t){if(!(0,r.bJ)(t,"INVALID_ARGUMENT")||"key"!==t.argument)throw t}},has:(t,e)=>"symbol"==typeof e||e in t||Ne.indexOf(e)>=0?Reflect.has(t,e):t.interface.hasFunction(e)})}connect(t){return new Te(this.target,this.interface,t)}attach(t){return new Te(t,this.interface,this.runner)}async getAddress(){return await Ee(this).addrPromise}async getDeployedCode(){const t=ye(this.runner);(0,r.vA)(t,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const e=await t.getCode(await this.getAddress());return"0x"===e?null:e}async waitForDeployment(){const t=this.deploymentTransaction();if(t)return await t.wait(),this;if(null!=await this.getDeployedCode())return this;const e=ye(this.runner);return(0,r.vA)(null!=e,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise(((t,n)=>{const r=async()=>{try{if(null!=await this.getDeployedCode())return t(this);e.once("block",r)}catch(t){n(t)}};r()}))}deploymentTransaction(){return Ee(this).deployTx}getFunction(t){return"string"!=typeof t&&(t=t.format()),function(t,e){const n=function(...n){const s=t.interface.getFunction(e,n);return(0,r.vA)(s,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:n}}),s},a=async function(...e){const r=n(...e);let a={};if(r.inputs.length+1===e.length&&(a=await me(e.pop()),a.from&&(a.from=await Qt(a.from,pe(t.runner)))),r.inputs.length!==e.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const i=await async function(t,e,n){const r=ge(t,"resolveName"),s=fe(r)?r:null;return await Promise.all(e.map(((t,e)=>t.walkAsync(n[e],((t,e)=>(e=u.dereference(e,t),"address"===t?Qt(e,s):e))))))}(t.runner,r.inputs,e);return Object.assign({},a,await(0,s.k)({to:t.getAddress(),data:t.interface.encodeFunctionData(r,i)}))},i=async function(...t){const e=await c(...t);return 1===e.length?e[0]:e},o=async function(...e){const n=t.runner;(0,r.vA)(he(n),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const s=await n.sendTransaction(await a(...e)),i=ye(t.runner);return new ae(t.interface,i,s)},c=async function(...e){const s=ge(t.runner,"call");(0,r.vA)(ue(s),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const i=await a(...e);let o="0x";try{o=await s.call(i)}catch(e){if((0,r.E)(e)&&e.data)throw t.interface.makeError(e.data,i);throw e}const c=n(...e);return t.interface.decodeFunctionResult(c,o)},l=async(...t)=>n(...t).constant?await i(...t):await o(...t);return(0,s.n)(l,{name:t.interface.getFunctionName(e),_contract:t,_key:e,getFragment:n,estimateGas:async function(...e){const n=ge(t.runner,"estimateGas");return(0,r.vA)(le(n),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await n.estimateGas(await a(...e))},populateTransaction:a,send:o,staticCall:i,staticCallResult:c}),Object.defineProperty(l,"fragment",{configurable:!1,enumerable:!0,get:()=>{const n=t.interface.getFunction(e);return(0,r.vA)(n,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),n}}),l}(this,t)}getEvent(t){return"string"!=typeof t&&(t=t.format()),function(t,e){const n=function(...n){const s=t.interface.getEvent(e,n);return(0,r.vA)(s,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:n}}),s},a=function(...e){return new de(t,n(...e),e)};return(0,s.n)(a,{name:t.interface.getEventName(e),_contract:t,_key:e,getFragment:n}),Object.defineProperty(a,"fragment",{configurable:!1,enumerable:!0,get:()=>{const n=t.interface.getEvent(e);return(0,r.vA)(n,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),n}}),a}(this,t)}async queryTransaction(t){throw new Error("@TODO")}async queryFilter(t,e,n){null==e&&(e=0),null==n&&(n="latest");const{addr:s,addrPromise:a}=Ee(this),i=s||await a,{fragment:o,topics:c}=await Re(this,t),u={address:i,topics:c,fromBlock:e,toBlock:n},l=ye(this.runner);return(0,r.vA)(l,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await l.getLogs(u)).map((t=>{let e=o;if(null==e)try{e=this.interface.getEvent(t.topics[0])}catch(t){}if(e)try{return new ne(t,this.interface,e)}catch(e){return new re(t,e)}return new te.tG(t,l)}))}async on(t,e){const n=await Oe(this,"on",t);return n.listeners.push({listener:e,once:!1}),n.start(),this}async once(t,e){const n=await Oe(this,"once",t);return n.listeners.push({listener:e,once:!0}),n.start(),this}async emit(t,...e){return await ke(this,t,e,null)}async listenerCount(t){if(t){const e=await xe(this,t);return e?e.listeners.length:0}const{subs:e}=Ee(this);let n=0;for(const{listeners:t}of e.values())n+=t.length;return n}async listeners(t){if(t){const e=await xe(this,t);return e?e.listeners.map((({listener:t})=>t)):[]}const{subs:e}=Ee(this);let n=[];for(const{listeners:t}of e.values())n=n.concat(t.map((({listener:t})=>t)));return n}async off(t,e){const n=await xe(this,t);if(!n)return this;if(e){const t=n.listeners.map((({listener:t})=>t)).indexOf(e);t>=0&&n.listeners.splice(t,1)}return null!=e&&0!==n.listeners.length||(n.stop(),Ee(this).subs.delete(n.tag)),this}async removeAllListeners(t){if(t){const e=await xe(this,t);if(!e)return this;e.stop(),Ee(this).subs.delete(e.tag)}else{const{subs:t}=Ee(this);for(const{tag:e,stop:n}of t.values())n(),t.delete(e)}return this}async addListener(t,e){return await this.on(t,e)}async removeListener(t,e){return await this.off(t,e)}static buildClass(t){return class extends Te{constructor(e,n=null){super(e,t,n)}}}static from(t,e,n){return null==n&&(n=null),new this(t,e,n)}}class Pe extends(function(){return Te}()){}},640:(t,e,n)=>{n.d(e,{S:()=>c});var r=n(871),s=n(212);let a=!1;const i=function(t){return(0,r.lY)(t)};let o=i;function c(t){const e=(0,s.q5)(t,"data");return(0,s.c$)(o(e))}c._=i,c.lock=function(){a=!0},c.register=function(t){if(a)throw new TypeError("keccak256 is locked");o=t},Object.freeze(c)},899:()=>{}}]);